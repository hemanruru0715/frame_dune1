/**
 * @description Iterate through the pagination of Airstack queries w/ formatting included
 * @example
 * const { getNextPage } = await fetchQueryWithPagination(query, variables);
 * const res = await iteratePagination(getNextPage);
 *
 * @param iteratePage Either `getNextPage` or `getPrevPage` from `fetchQueryWithPagination`
 * @returns Next/previous page result of Airstack queries w/ formatting included
 */
export async function iteratePagination(iteratePage, formatFunction
// TODO: need to generalize this output type
) {
    var _a;
    const { data, error, hasPrevPage, hasNextPage, getPrevPage, getNextPage } = (_a = (await (iteratePage === null || iteratePage === void 0 ? void 0 : iteratePage()))) !== null && _a !== void 0 ? _a : {};
    return {
        data: formatFunction === null || formatFunction === void 0 ? void 0 : formatFunction(data),
        error,
        hasPrevPage,
        hasNextPage,
        getPrevPage: async () => await iteratePagination(getPrevPage, formatFunction),
        getNextPage: async () => await iteratePagination(getNextPage, formatFunction),
    };
}
//# sourceMappingURL=iteratePagination.js.map