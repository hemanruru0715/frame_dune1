import { fetchQuery } from "@airstack/node";
import { farcasterUserDetailsQuery as query } from "../graphql/query/farcasterUserDetails.query";
/**
 * @description Fetch Farcaster user details provided fid
 * @example
 * const { data, error } = await getFarcasterUserDetails({
 *  fid: 1
 * });
 * @param {Number} input.fid Farcaster user FID
 * @returns Farcaster user details, including profile name, fname, fid, images, etc.
 */
export async function getFarcasterUserDetails(input) {
    var _a, _b, _c;
    const { fid } = input !== null && input !== void 0 ? input : {};
    const variable = {
        fid: fid.toString(),
    };
    const { data, error } = await fetchQuery(query, variable);
    const { profileName, fnames, custodyAddress, connectedAddresses, profileImageContentValue, userAssociatedAddresses, followerCount, followingCount, } = (_c = (_b = (_a = data === null || data === void 0 ? void 0 : data.Socials) === null || _a === void 0 ? void 0 : _a.Social) === null || _b === void 0 ? void 0 : _b[0]) !== null && _c !== void 0 ? _c : {};
    const { image: profileImage } = profileImageContentValue !== null && profileImageContentValue !== void 0 ? profileImageContentValue : {};
    return {
        data: error
            ? null
            : {
                profileName,
                fnames,
                profileImage,
                custodyAddress,
                connectedAddresses,
                userAssociatedAddresses,
                followerCount,
                followingCount,
            },
        error,
    };
}
//# sourceMappingURL=getFarcasterUserDetails.js.map