import { GraphQLClient } from "graphql-request";
import { numberOfFarcasterFollowersQuery as query } from "../graphql/query/numberOfFarcasterFollowers.query";
import { config } from "../config";
export async function checkNumberOfFarcasterFollowers(input) {
    var _a, _b, _c;
    try {
        const { fid, followerCountCriteria } = input !== null && input !== void 0 ? input : {};
        const client = new GraphQLClient("https://api.airstack.xyz/gql", {
            headers: {
                Authorization: config.authKey,
            },
        });
        const variable = {
            identity: `fc_fid:${fid}`,
            followerCountCriteria,
        };
        const data = await client.request(query, variable);
        return {
            data: Boolean((_c = (_b = (_a = data === null || data === void 0 ? void 0 : data.Socials) === null || _a === void 0 ? void 0 : _a.Social) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c.followerCount),
        };
    }
    catch (error) {
        console.error(error);
        return { error };
    }
}
//# sourceMappingURL=checkNumberOfFarcasterFollowers.js.map